@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-wa-bg text-gray-900;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  }
}

@layer components {
  /* WhatsApp Chat Container */
  .chat-container {
    @apply h-screen flex flex-col bg-wa-bg;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" fill="%23d9d9d9" opacity="0.05"><path d="M0 0h80v80H0z"/><path d="M20 20h40v40H20z"/></svg>');
  }
  
  /* WhatsApp Header */
  .wa-header {
    @apply bg-wa-header text-white px-4 py-3 shadow-md flex items-center justify-between;
  }
  
  /* Message Bubbles - User (outgoing) */
  .message-user {
    @apply bg-wa-outgoing text-gray-900 rounded-lg rounded-br-sm px-3 py-2 max-w-[85%] ml-auto shadow-sm relative;
    word-wrap: break-word;
  }
  
  .message-user::before {
    content: '';
    position: absolute;
    right: -8px;
    bottom: 0;
    width: 0;
    height: 0;
    border-left: 8px solid #DCF8C6;
    border-bottom: 8px solid transparent;
  }
  
  /* Message Bubbles - Bot (incoming) */
  .message-bot {
    @apply bg-wa-incoming text-gray-900 rounded-lg rounded-bl-sm px-3 py-2 max-w-[85%] shadow-sm relative;
    word-wrap: break-word;
  }
  
  .message-bot::before {
    content: '';
    position: absolute;
    left: -8px;
    bottom: 0;
    width: 0;
    height: 0;
    border-right: 8px solid white;
    border-bottom: 8px solid transparent;
  }
  
  /* Quick Exit Button - WhatsApp style */
  .quick-exit-btn {
    @apply fixed top-4 right-4 bg-danger-600 text-white px-3 py-2 rounded-full shadow-lg hover:bg-danger-700 transition-all z-50 flex items-center gap-2 font-medium text-sm;
  }
  
  /* Language Selection Button */
  .language-btn {
    @apply w-full px-6 py-4 rounded-xl bg-white border-2 border-gray-200 hover:bg-primary-50 hover:border-primary-500 transition-all font-semibold text-left shadow-sm;
  }
  
  /* WhatsApp Input Area */
  .wa-input {
    @apply w-full px-4 py-3 bg-white rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none;
  }
  
  /* WhatsApp Send Button */
  .wa-send-btn {
    @apply bg-primary-500 text-white p-3 rounded-full hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md;
  }
  
  /* Quick Reply Buttons - WhatsApp style */
  .quick-reply-btn {
    @apply px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-full hover:bg-gray-50 transition-all font-medium text-sm shadow-sm inline-block;
  }
  
  /* Urgency Indicator */
  .urgency-indicator {
    @apply absolute -top-1 -right-1 w-3 h-3 rounded-full border-2 border-white;
  }
  
  /* Message Time */
  .message-time {
    @apply text-[10px] text-gray-500 mt-1 float-right ml-2;
  }
  
  /* Typing Indicator */
  .typing-indicator {
    @apply flex gap-1 p-2;
  }
  
  .typing-dot {
    @apply w-2 h-2 bg-gray-400 rounded-full animate-bounce;
  }
  
  /* Crisis Banner - WhatsApp style */
  .crisis-banner {
    @apply bg-danger-50 border-l-4 border-danger-500 p-3 text-sm;
  }
  
  /* Scrollbar styling for WhatsApp look */
  .messages-scroll::-webkit-scrollbar {
    width: 6px;
  }
  
  .messages-scroll::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .messages-scroll::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 3px;
  }
  
  .messages-scroll::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3);
  }
}

/* Mobile-first responsive utilities */
@media (max-width: 640px) {
  .message-user,
  .message-bot {
    @apply max-w-[80%];
  }
}

/* Smooth transitions */
* {
  -webkit-tap-highlight-color: transparent;
}
